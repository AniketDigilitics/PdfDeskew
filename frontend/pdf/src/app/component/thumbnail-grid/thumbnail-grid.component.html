<div class="grid" *ngIf="!loading; else loadingTpl">
      <div class="thumb" *ngFor="let p of pages; trackBy: trackByIndex" (click)="onThumbClick(p)">
        <div class="preview">
          <img *ngIf="p.thumbnailUrl; else ph" [src]="p.thumbnailUrl" alt="page preview">
          <ng-template #ph><div class="placeholder">No preview</div></ng-template>
        </div>
        <div class="meta">
          <span>#{{ p.pageIndex + 1 }}</span>
          <span class="angle">{{ (p.appliedAngle ?? p.detectedAngle) | number:'1.1-1' }}Â°</span>
        </div>
        <button class="btn small ghost" (click)="openDialog(p); $event.stopPropagation()">Compare</button>
      </div>
</div>

<ng-template #loadingTpl>
      <div class="grid">
        <div class="thumb" *ngFor="let _ of placeholders">
          <app-skeleton height="140px"></app-skeleton>
          <div style="height:6px;"></div>
          <app-skeleton height="16px" width="80%"></app-skeleton>
        </div>
      </div>
</ng-template>