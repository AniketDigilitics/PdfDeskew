<section class="panel card">
  <h4>Rotation</h4>
  <div *ngIf="selectedIndex===null" class="muted">Select a page from the grid</div>
    
    <div *ngIf="selectedIndex !== null && page as p" class="controls">
      
  <div class="angles">
    <div>Detected: <strong>{{ p.detectedAngle | number:'1.1-1' }}°</strong></div>
    <div>Applied: <strong>{{ (p.appliedAngle ?? p.detectedAngle) | number:'1.1-1' }}°</strong></div>
  </div>

    <div class="row">
      <button class="btn ghost" (click)="rotateBy.emit(-90)">⟲ 90°</button>
      <button class="btn ghost" (click)="rotateBy.emit(-1)">-1°</button>
      <button class="btn ghost" (click)="rotateBy.emit(1)">+1°</button>
      <button class="btn ghost" (click)="rotateBy.emit(90)">⟳ 90°</button>
    </div>

    <div class="row">
      <input type="number" step="0.1" [value]="p.appliedAngle ?? p.detectedAngle" (change)="setFromInput($event)">
      <button class="btn secondary" (click)="resetAngle.emit()">Reset</button>
    </div>
  </div>
</section>
